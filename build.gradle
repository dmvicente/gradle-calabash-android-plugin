buildscript {
  repositories {
    jcenter()
  }

  dependencies {
    classpath 'com.jfrog.bintray.gradle:gradle-bintray-plugin:0.6'
  }
}

apply plugin: 'groovy'
apply plugin: 'maven'
apply plugin: 'maven-publish'
apply plugin: 'com.jfrog.bintray'

group = 'org.notlocalhost.gradle'
version = '1.6-FYBER'

dependencies {
  repositories {
    jcenter()
  }

  compile gradleApi()
  compile localGroovy()
  compile 'com.android.tools.build:gradle:0.14.+'

  testCompile 'junit:junit:4.10'
  testCompile 'org.easytesting:fest-assert-core:2.0M10'
}

publishing {
  publications {
    mavenGroovy(MavenPublication) {
      from components.java
    }
  }
}

bintray {
  user = bintrayUser
  key = bintrayKey
  publications = ['mavenGroovy'] // see publications closure
  pkg {
    repo = 'internal'
    userOrg = 'fyber'
    name = 'gradle-calabash-android-plugin'
    desc = 'Pedlar Calabash gradle plugin with some additional improvements'
    websiteUrl = 'https://github.com/Pedlar/gradle-calabash-android-plugin'
    licenses = ['Apache-2.0']
    labels = ['calabash', 'gradle', 'android']
    version {
      gpg {
        sign = true
        passphrase = bintrayPassphrase
      }
    }
  }
}
